<div class="row">
  <div class="col-md-8">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3><%= @question.category.name %></h3>
      </div>
      <div class="panel-body">
        <%= form_for @question do |f| %>
          <%= render "shared/error_messages", object: @question %>
          <%= f.hidden_field :user_id, value: current_user.id %>
          <%= f.hidden_field :status, value: @status%>
          <%= f.label :category %>
          <%= f.collection_select :category_id, @categories, :id, :name %>
          <%= f.label :content %>
          <%= f.text_area :content, class: "form-control" %>
          <% if current_user.admin? %>
            <%= f.label :status %>
            <%= f.select :status, Settings.question_statuses,selected: @status %>
          <% end %>
          <%= f.label :option_type %>
          <%= custom_select f, :option_type, :question_options,
            Settings.question_option_types, @option_type %>
          <p id = "question_options">
            <%= f.label :question_options%>
            <div class = "question_option_field">
            <%= f.fields_for :question_options do |field| %>
              <%= render "question_option_" + @option_type + "_fields", f: field %>          
            <% end %>
            <%= link_to_add_fields t("add_option"), f, :question_options,
              @option_type unless @option_type.eql? "text" %>
            </div>
          </p>
          <div class="actions">
            <%= f.submit t("question.update"), class: "btn btn-primary" %>
          </div>  
        <% end %>
      </div>  
      <ol class = "questions">      
      </ol>    
    </div>
  </div>
</div>
